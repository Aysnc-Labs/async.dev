---
import BaseLayout from "./BaseLayout.astro";
import YouTubeEmbed from "../components/YouTubeEmbed.astro";
import Tag from "../components/Tag.astro";
import { formatDate } from "../utils/dates";

interface Props {
	frontmatter: {
		title: string;
		publishDate: Date;
		youtubeId: string;
		description: string;
		tags: string[];
	};
}

const { frontmatter } = Astro.props;
const { title, publishDate, youtubeId, description, tags } = frontmatter;
---

<BaseLayout title={title} description={description}>
  <article class="max-w-4xl mx-auto">
    <header class="mb-8">
      <div class="flex flex-wrap gap-2 mb-4">
        {tags.map((tag) => <Tag tag={tag} />)}
      </div>
      <h1 class="text-4xl md:text-5xl font-semibold text-stone-900 mb-4">{title}</h1>
      <p class="text-stone-500">{formatDate(publishDate)}</p>
    </header>

    <div class="mb-12">
      <YouTubeEmbed videoId={youtubeId} title={title} />
    </div>

    <div class="prose">
      <slot />
    </div>
  </article>
</BaseLayout>
