---
import BaseLayout from "../../layouts/BaseLayout.astro";
import VideoCard from "../../components/VideoCard.astro";
import { getCollection } from "astro:content";
import { sortByDate } from "../../utils/dates";

const allVideos = await getCollection("videos");
const sortedVideos = sortByDate(allVideos);
---

<BaseLayout title="Videos" description="Video tutorials on enterprise WordPress development">
  <div class="space-y-8">
    <h1 class="text-4xl md:text-5xl font-semibold text-stone-900">All Videos</h1>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {sortedVideos.map((video) => (
        <VideoCard
          title={video.data.title}
          description={video.data.description}
          publishDate={video.data.publishDate}
          slug={video.slug}
          tags={video.data.tags}
          youtubeId={video.data.youtubeId}
        />
      ))}
    </div>
  </div>
</BaseLayout>
